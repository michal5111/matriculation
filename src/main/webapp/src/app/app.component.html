<mat-drawer-container fullscreen>
  <div class="wrapper">
    <mat-toolbar color="primary" class="mat-elevation-z5">
      <a mat-button routerLink="/"><img ngSrc="./assets/header_logo.svg" height="50" alt="Logo" class="logo"
                                        width="132"/>
        Immatrykulator 5000
      </a>
      <ng-template [ngIf]="userService.isAuthenticated()">
        <a mat-stroked-button class="toolbarButton" routerLink="/import"
           [disabled]="!userService.hasAnyRole('ROLE_IMPORT_VIEW','ROLE_ADMIN')">Importy
        </a>
      </ng-template>
      <ng-template [ngIf]="userService.isAuthenticated()">
        <a mat-stroked-button class="toolbarButton" routerLink="/applications"
           [disabled]="!userService.hasAnyRole('ROLE_IMPORT_VIEW','ROLE_ADMIN')">Zgłoszenia rekrutacyjne
        </a>
      </ng-template>
      <ng-template [ngIf]="userService.hasRole('ROLE_ADMIN')">
        <a mat-stroked-button class="toolbarButton" routerLink="/userManager">
          <mat-icon>admin_panel_settings</mat-icon>
          Zarządzaj użytkownikami
        </a>
      </ng-template>
      <span class="fill-remaining-space"></span>
      <ng-template [ngIf]="userService.isAuthenticated()" [ngIfElse]="loggedOut">
        @if (userService.$user | async; as user) {
          <span
            class="username">{{ user?.casAssertion?.principal?.attributes?.givenname }} {{ user?.casAssertion?.principal?.attributes?.lastname }}</span>
        }
        <a mat-stroked-button class="toolbarButton" href="{{baseHref}}logout">Wyloguj</a>
      </ng-template>
      <ng-template #loggedOut>
        <a mat-stroked-button class="toolbarButton"
           href="{{baseHref}}login?service={{getServiceUrl()}}">Zaloguj</a>
      </ng-template>
    </mat-toolbar>
    <router-outlet></router-outlet>
    <div class="push"></div>
  </div>
  <app-footer class="footer"></app-footer>
</mat-drawer-container>
